<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Mesangih</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Corinthia:wght@400;700&family=Raleway:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Cover Undangan -->
    <div class="cover-container" id="cover">
        <div class="cover-content">
            <h1 class="title">Undangan Mesangih</h1>
            <p class="subtitle"><em>invitation to :</em></p>
            <p class="name-box" id="guest-name">[Nama Tamu]</p>
            <script>
                // Fungsi untuk mengambil parameter dari URL
                function getQueryParam(param) {
                    const urlParams = new URLSearchParams(window.location.search);
                    return urlParams.get(param);
                }
                // Ambil nama dari URL dan tampilkan
                const guestName = getQueryParam("nama") || "Guest";
                document.getElementById("guest-name").textContent = guestName;
            </script>        
            <p class="invitation-text">Tanpa mengurangi rasa hormat, kami mengundang Bapak/Ibu/Saudara/i 
                untuk hadir di acara mesangih.</p>
            <a href="#" class="btn-invitation" onclick="showInvitation(event)">
                <span>üì© BUKA UNDANGAN</span>
            </a>
        </div>
    </div>

    <!-- Isi Undangan -->
    <div class="invitation-container" id="invitation" style="display: none;">
        <h2 class="header-title scroll-item">Om Swastyastu</h2>
        <p class="intro-text scroll-item">
            Atas Asung Kertha Wara Nugraha Ida Sang Hyang Widhi Wasa/Tuhan Yang Maha Esa, <br>
            perkenankan kami mengundang Bapak/Ibu/Saudara/i pada Upacara Mesangih (Potong Gigi) putra-putri kami.
        </p>
        <div class="honorees scroll-item">
            <h1 class="main-title scroll-item">Putu Ayulia Setiawati, S.Kom</h1>
            <h1 class="main-title scroll-item">Kadek Nicholas Setiawan</h1>
            <h1 class="main-title scroll-item">I Putu Dian Pradnya Wibawa</h1>
            <h1 class="main-title scroll-item">Ni Putu Angie Octa Purnamawati</h1>
        </div>
        <img src="images/daun-content1.png" class="daun-1" alt="Bunga Hias">
        <div class="event-details scroll-item">
            <h2 class="header-title scroll-item">Waktu & Tempat</h2>
            <p class="event-title scroll-item">Rabu</p>
            <p class="event-information scroll-item">9, April 2025</p>
            <p class="event-title scroll-item">Pukul</p>
            <p class="event-information scroll-item">13:00 WITA - Selesai</p>
            <p class="event-title scroll-item">Bertempat di</p>
            <p class="event-information scroll-item">Pondok Hansel, Yeh Kuning, Jembrana</p>
        </div>
        <img src="images/daun-content2.png" class="daun-2" alt="Bunga Hias">
        <p class="closing-text scroll-item">
            Merupakan suatu kebahagiaan dan kehormatan bagi kami, apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa kepada putra-putri kami.
            <br>
            Atas kehadiran dan doanya kami ucapkan terima kasih.
        </p>
        <h2 class="header-title">Om Shanti Shanti Shanti Om</h2>
        
        <!-- Location Section -->
        <section id="location" class="location">
            <div class="location-container">
                <!-- Google Maps Embed -->
                <h2 class="section-title scroll-item">Lokasi Acara</h2> 
                <iframe 
                    class=iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3947.0631618345474!2d114.65872927466441!3d-8.395448891642763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd3d9001915112d%3A0x5f1e2e2f94eacef3!2sPondok%20Hansel!5e0!3m2!1sen!2sid!4v1741763994659!5m2!1sen!2sid" 
                    allowfullscreen="" 
                    loading="lazy">
                </iframe>
        
                <!-- Button -->
                <a href="https://maps.app.goo.gl/9F5CjgQXuitiss78A" 
                    target="_blank" 
                    class="btn-map scroll-item">
                    üìç Klik untuk membuka peta
                </a>
            </div>
        </section>

        <!-- RSVP Section -->
        <section id="rsvp" class="rsvp">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-8 col-10 text-center">
                        <h2 class="section-title scroll-item">Konfirmasi Kehadiran</h2>
                        <p class="rsvp-text scroll-item">Silakan pilih kehadiran Anda.</p>
                    </div>
                </div>
                <div id="loading-screen" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>Mohon tunggu...</p>
                </div>  
                <form
                class="row row-cols-md-auto g-3 align-items-center justify-content-center"
                method="POST"
                action="https://script.google.com/macros/s/AKfycbwBApzthuch9ku9pRWrpG5JhYSCtkgzLmmsvRRaWxLXDhgCxOlxAEaSvi9aw9L9g0j6/exec"
                id="rsvp-form">
                    <!-- Input Nama (Hidden) -->
                    <input type="hidden" id="nama" name="nama"/>
                        <!-- Radio Button Kehadiran -->
                    <div class="attendance">
                        <label class="radio-container">
                            <input type="radio" name="status" id="status"value="Hadir" onclick="updateStatus(this.value)">
                            <span class="custom-radio"></span> Hadir
                        </label>
                        <label class="radio-container">
                            <input type="radio" name="status" id="status" value="Tidak Hadir" onclick="updateStatus(this.value)">
                            <span class="custom-radio"></span> Tidak hadir
                        </label>
                    </div>             
                    <div class="col-12">
                        <button type="submit" class="btn btn-rsvp">Kirim</button>
                    </div>
                </form>
                <p id="response-message" class="response-message" style="display: none;"></p>
                <script>
                    // Fungsi untuk mengambil parameter dari URL
                    function getQueryParam(param) {
                        const urlParams = new URLSearchParams(window.location.search);
                        return urlParams.get(param);
                    }
                    // Ambil nama dari URL dan masukkan ke input hidden
                    document.getElementById("nama").value = getQueryParam("nama") || "Tanpa Nama";
                </script>
                <!--
                <div class="daun-wrapper scroll-item">
                    <img src="images/daun-content3.png" class="daun-3">
                </div> -->
            </div>
        </section>  
    </div>

    <!-- Insert Audio-->
    <audio id="bg-music" autoplay loop>
        <source src="audio/Balinese Instrumental ( No Copyright).mp3" 
        type="audio/mp3">
    </audio>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let audio = document.getElementById("bg-music");
            audio.volume = 0.5; // Sesuaikan volume jika perlu
            audio.play().catch(error => {
                console.log("Autoplay dicegah oleh browser, memerlukan interaksi pengguna.");
            });
        });
    </script>
</body>

</html>
